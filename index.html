<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HVAC Project Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#020617;color:#e5e7eb}
header{padding:15px 20px;box-shadow:0 4px 20px rgba(0,0,0,.6)}
h1{margin:0;color:#38bdf8}
.container{padding:20px}
.card{background:#020617;border-radius:12px;padding:15px;box-shadow:0 10px 30px rgba(0,0,0,.6);margin-bottom:20px}
input,select,button{padding:8px;margin:4px;border-radius:6px;border:none;background:#020617;color:#fff;box-shadow:inset 0 0 0 1px rgba(255,255,255,.15)}
button{background:#2563eb;font-weight:bold;cursor:pointer}
table{width:100%;border-collapse:collapse;font-size:13px}
th,td{border-bottom:1px solid rgba(255,255,255,.15);padding:6px;text-align:center}
th{color:#38bdf8}
</style>
</head>

<body>

<header>
  <h1>HVAC Project Tracker</h1>
</header>

<div class="container">

<!-- ADD PROJECT -->
<div class="card">
<h3>Add New Project</h3>
<input id="project" placeholder="Project Name">
<input id="customer" placeholder="Customer Name">
<select id="type">
  <option>Cooling Coil</option>
  <option>Heat Pipe</option>
  <option>Combi Coil</option>
  <option>FAHU</option>
  <option>AHU</option>
</select>
<input type="date" id="received">
<button onclick="addProject()">ADD PROJECT</button>
</div>

<!-- PROJECT LIST -->
<div class="card">
<h3>Projects</h3>
<table>
<thead>
<tr>
<th>ID</th><th>Project</th><th>Customer</th><th>Type</th>
<th>Received</th><th>Sent</th><th>Status</th><th>Rev</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>

</div>

<script>
let projects = JSON.parse(localStorage.getItem("hvacProjects")) || [];
let id = projects.length + 1;

function save(){ localStorage.setItem("hvacProjects", JSON.stringify(projects)); }

function addProject(){
  const p = project.value.trim();
  const c = customer.value.trim();
  const t = type.value;
  const r = received.value;

  if(!p || !c || !r){ alert("Fill all fields"); return; }

  if(projects.find(x => x.project === p)){
    alert("Project already exists");
    return;
  }

  projects.push({
    id:"P-"+id++,
    project:p,
    customer:c,
    type:t,
    received:r,
    sent:"",
    status:"RECEIVED",
    revision:0
  });

  save();
  render();
  project.value=customer.value=received.value="";
}

function render(){
  tbody.innerHTML = projects.map((x,i)=>`
  <tr>
    <td>${x.id}</td>
    <td>${x.project}</td>
    <td>${x.customer}</td>
    <td>${x.type}</td>
    <td>${x.received}</td>
    <td><input type="date" value="${x.sent}" 
        onchange="projects[${i}].sent=this.value;save()"></td>
    <td>
      <select onchange="projects[${i}].status=this.value;save()">
        ${["RECEIVED","IN PROGRESS","SELECTION SENT","QUOTATION SENT","COMPLETED"]
        .map(s=>`<option ${s===x.status?'selected':''}>${s}</option>`)}
      </select>
    </td>
    <td><input type="number" value="${x.revision}" 
        onchange="projects[${i}].revision=this.value;save()"></td>
  </tr>`).join("");
}

render();
</script>

</body>
</html>
