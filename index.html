<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HVAC Project Dashboard</title><link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"><style>
:root{
  --bg:#0f172a;
  --card:#020617;
  --accent:#38bdf8;
  --accent2:#2563eb;
  --text:#e5e7eb;
  --muted:#94a3b8;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:radial-gradient(circle at top,var(--bg),#020617);
  color:var(--text);
}

header{
  position:sticky;top:0;z-index:10;
  backdrop-filter:blur(10px);
  background:rgba(2,6,23,.8);
  padding:16px 24px;
  box-shadow:0 10px 40px rgba(0,0,0,.6);
}
header h1{margin:0;color:var(--accent);font-size:22px;font-weight:600}
header span{font-size:13px;color:var(--muted)}

.container{padding:24px;max-width:1400px;margin:auto}

.card{
  background:linear-gradient(160deg,#020617,#020617);
  border-radius:18px;
  padding:20px;
  margin-bottom:24px;
  box-shadow:0 30px 60px rgba(0,0,0,.6);
  animation:fadeUp .6s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(15px)}
  to{opacity:1;transform:translateY(0)}
}

h3{margin-top:0;color:var(--accent);font-weight:500}

input,select,button{
  font-family:inherit;
  padding:10px 12px;
  border-radius:10px;
  border:none;
  background:#020617;
  color:var(--text);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.12);
  transition:all .25s ease;
}
input:focus,select:focus{
  outline:none;
  box-shadow:0 0 0 2px rgba(56,189,248,.4);
}

button{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  font-weight:600;
  cursor:pointer;
}
button:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(56,189,248,.4)}

.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}

.kpis{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:16px;
}
.kpi{
  background:#020617;
  padding:16px;
  border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.6);
  transition:transform .3s ease;
}
.kpi:hover{transform:translateY(-6px)}
.kpi h4{margin:0;font-size:13px;color:var(--muted)}
.kpi div{font-size:28px;color:var(--accent);font-weight:600}

.filters{display:flex;flex-wrap:wrap;gap:12px}

.table-wrap{overflow-x:auto}
table{width:100%;border-collapse:collapse;font-size:13px}
th,td{padding:10px;border-bottom:1px solid rgba(255,255,255,.12);text-align:center}
th{color:var(--accent);font-weight:500}

.status-select{min-width:140px}

@media(max-width:768px){
  header h1{font-size:18px}
}
</style></head>
<body><header>
  <h1>HVAC Project Dashboard</h1>
  <span>Professional workflow & project tracking</span>
</header><div class="container"><!-- ADD PROJECT --><div class="card">
<h3>Add New Project</h3>
<div class="form-grid">
  <input id="project" placeholder="Project Name">
  <input id="customer" placeholder="Customer Name">
  <select id="type">
    <option>Cooling Coil</option>
    <option>Heat Pipe</option>
    <option>Combi Coil</option>
    <option>FAHU</option>
    <option>AHU</option>
  </select>
  <input type="date" id="received">
  <button onclick="addProject()">Add Project</button>
</div>
</div><!-- KPI --><div class="kpis" id="kpis"></div><!-- FILTERS --><div class="card">
<h3>Search & Filters</h3>
<div class="filters">
  <input id="search" placeholder="Search project or customer" oninput="render()">
  <input type="date" id="filterDate" onchange="render()">
  <select id="filterStatus" onchange="render()">
    <option value="">All Status</option>
    <option>RECEIVED</option>
    <option>IN PROGRESS</option>
    <option>SELECTION SENT</option>
    <option>QUOTATION SENT</option>
    <option>COMPLETED</option>
  </select>
  <button onclick="exportExcel()">Export Excel</button>
</div>
</div><!-- TABLE --><div class="card table-wrap">
<h3>Projects</h3>
<table>
<thead>
<tr>
<th>ID</th><th>Project</th><th>Customer</th><th>Type</th>
<th>Received</th><th>Sent</th><th>Status</th><th>Rev</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div></div><script>
let projects = JSON.parse(localStorage.getItem('hvacProjects')) || [];
let pid = projects.length ? projects.length + 1 : 1;

function save(){ localStorage.setItem('hvacProjects', JSON.stringify(projects)); }

function addProject(){
  const p = project.value.trim();
  const c = customer.value.trim();
  const t = type.value;
  const r = received.value;

  if(!p || !c || !r){ alert('Please fill all fields'); return; }

  if(projects.find(x => x.project.toLowerCase() === p.toLowerCase())){
    alert('Project already exists'); return;
  }

  projects.push({
    id:`P-${pid++}`,
    project:p,
    customer:c,
    type:t,
    received:r,
    sent:'',
    status:'RECEIVED',
    revision:0
  });

  save();
  project.value = customer.value = received.value = '';
  render();
}

function render(){
  const s = search.value.toLowerCase();
  const fd = filterDate.value;
  const fs = filterStatus.value;

  const filtered = projects.filter(x =>
    (!s || x.project.toLowerCase().includes(s) || x.customer.toLowerCase().includes(s)) &&
    (!fd || x.received === fd) &&
    (!fs || x.status === fs)
  );

  const k={RECEIVED:0,'IN PROGRESS':0,'SELECTION SENT':0,'QUOTATION SENT':0,COMPLETED:0};
  filtered.forEach(x=>k[x.status]++);
  kpis.innerHTML = Object.keys(k)
    .map(i=>`<div class="kpi"><h4>${i}</h4><div>${k[i]}</div></div>`).join('');

  tbody.innerHTML = filtered.map((x,i)=>`
  <tr>
    <td>${x.id}</td>
    <td>${x.project}</td>
    <td>${x.customer}</td>
    <td>${x.type}</td>
    <td>${x.received}</td>
    <td><input type="date" value="${x.sent}" onchange="x.sent=this.value;save();render()"></td>
    <td>
      <select class="status-select" onchange="x.status=this.value;save();render()">
        ${['RECEIVED','IN PROGRESS','SELECTION SENT','QUOTATION SENT','COMPLETED']
          .map(s=>`<option ${s===x.status?'selected':''}>${s}</option>`)}
      </select>
    </td>
    <td><input type="number" min="0" value="${x.revision}" onchange="x.revision=this.value;save();render()"></td>
  </tr>`).join('');
}

function exportExcel(){
  let csv='ID,Project,Customer,Type,Received,Sent,Status,Revision\n';
  projects.forEach(x=>{
    csv+=`${x.id},${x.project},${x.customer},${x.type},${x.received},${x.sent},${x.status},${x.revision}\n`;
  });
  const blob=new Blob([csv],{type:'text/csv'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a');
  a.href=url;a.download='HVAC_Projects.csv';a.click();
}

render();
</script><script>
if('serviceWorker' in navigator){ navigator.serviceWorker.register('service-worker.js'); }
</script></body>
</html>
